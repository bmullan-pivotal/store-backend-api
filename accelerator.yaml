accelerator:
  displayName: Backend API for online-stores
  description: Accelerator to create Backend API service for online stores
  iconUrl: https://raw.githubusercontent.com/simple-starters/icons/master/icon-boot.png
  tags:
  - onlinestore-dev

  options:
  - name: firstApiGroup
    description: Name of the first API group
    dataType: string
    inputType: text
    required: true
  - name: secondApiGroup
    description: Name of the second API group
    dataType: string
    inputType: text
  - name: routeExamples
    description:  Which route examples to include 
    dataType: string
    defaultValue: simple
    inputType: select
    required: true
    choices:
      simple: App functions
      sso: App functions + SSO
      filters: App functions + SSO + filters
  - name: includeBootObserver
    description: Include sidecar integration to Spring Boot Observer
    dataType: boolean
    defaultValue: false
    inputType: toggle

engine:
  sources:
  - includes: ["**"]
    excludes: ["accelerator.yaml","accelerators/k8s/deployment-observer.yaml"]
    transformations:
    - type: ReplaceText
      substitutions:
      - text: {{appName}}
        with: "#projectName"
      - text: {{apiGroup1}}
        with: "#firstApiGroup"
      - text: {{apiGroup2}}
        with: "#secondApiGroup"
      - text: {{appName}}
        with: '#projectName'
  - includes: ["accelerators/k8s/deployment-observer.yaml"]
    condition: "#includeBootObserver"
    transformations:
    - type: ReplaceText
      substitutions:
      - text: {{appName}}
        with: "#projectName"
