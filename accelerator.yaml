accelerator:
  displayName: Backend API for online-stores
  description: Accelerator to create Backend API service for online stores
  iconUrl: https://raw.githubusercontent.com/simple-starters/icons/master/icon-boot.png
  tags:
  - online-store-devs

  options:
  - name: api-validation
    description:  How to score and validate APIs spec and performance (project/internal/external)
    dataType: string
    defaultValue: project
    inputType: text
  - name: first-api-group
    description: Name of the first API group
    dataType: string
    defaultValue: first-group
    inputType: text
  - name: second-api-group
    description: Name of the second API group
    dataType: string
    defaultValue: second-group
    inputType: text
  - name: include-boot-observer
    description: Include an app configuration file with sidecar integration to Spring Boot Observer
    dataType: boolean
    defaultValue: false
    inputType: toggle
engine:
  resources:
    - name: api-validation
      includes: ["config/workload.yaml"]
      transformations:
        replace:
          - token: "{{apiValidation}}"
            with: '#api-validation'
    - name: api-groups
      includes: ["config/routes-k8s.yaml"]
      transformations:
        replace:
          - token: "{{apiGroup1}}"
            with: '#first-api-group'
          - token: "{{apiGroup2}}"
            with: '#second-api-group'
    - name: kubernetes-yaml
      includes: ["config/*.yaml"]
      transformations:
        replace:
          - token: "{{appName}}"
            with: '#projectName'
    - name: boot-observer
      includes: ["config/deployment-with-boot-observer.yaml"]
      condition: '#include-boot-observer'
    - name: pom-xml
      includes: ["src/maven/pom.xml"]
      transformations:
        replace:
          - token: "{{appName}}"
            with: '#projectName'
          - token: "{{appDescription}}"
            with: '#projectDescription'
    - name: all
      includes: ["**"]
      excludes: ["accelerator.yaml","generator.yaml","config/deployment-with-boot-observer.yaml"]
      
