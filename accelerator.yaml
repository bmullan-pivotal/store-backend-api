accelerator:
  displayName: Backend API for online-stores
  description: Accelerator to create Backend API service for online stores
  iconUrl: https://raw.githubusercontent.com/simple-starters/icons/master/icon-boot.png
  tags:
  - onlinestore-dev

  options:
  - name: firstApiGroup
    label: First level API group
    description: Name of the first level API group
    dataType: string
    inputType: text
    required: true
  - name: secondApiGroup
    label: Second level API group
    description: Name of the second API group
    dataType: string
    inputType: text
  - name: routeExamples
    label: Route examples
    description:  Which route examples to include 
    dataType: string
    defaultValue: simple
    inputType: select
    required: true
    choices:
      simple: App functions
      sso: App functions + SSO
      filters: App functions + SSO + filters
  - name: appDeploymentType
    label: App deployment config
    description: Type of deployment config file
    required: true
    dataType: string
    defaultValue: k8s
    inputType: select
    choices:
      k8s: K8s simple
      k8sObserver: K8s with Boot Observer sidecar
  - name: thirdApiGroup
    label: Third  level API group
    description: Name of the third API group
    dataType: string
    inputType: text
    defaultValue: apiGroup3
  - name: forthApiGroup
    label: Forth level API group
    description: Name of the forth API group
    dataType: string
    inputType: text
    defaultValue: apiGroup4
  - name: fifthApiGroup
    label: Fifth level API group
    description: Name of the Fifth API group
    dataType: string
    inputType: text
    defaultValue: apiGroup5
engine:
  sources:
   - includes: ["**"]
     excludes: [ "accelerators/deployment/**" ]
     transformations:
     - type: ReplaceText
       substitutions:
       - text: app-name
         with: "#artifactId"
       - text: api-group1
         with: "#firstApiGroup"
       - text: api-group2
         with: "#secondApiGroup"
   - includes: [ "accelerators/deployment/app-simple.yaml" ]
     condition: "#appDeploymentType == 'k8s'"
     transformations:
     - type: ReplaceText
       substitutions:
       - text: app-name
         with: "#artifactId"
   - includes: [ "accelerators/deployment/app-observer.yaml" ]
     condition: "#appDeploymentType == 'k8sObserver'"
     transformations:
     - type: ReplaceText
       substitutions:
       - text: app-name
         with: "#artifactId"
     
